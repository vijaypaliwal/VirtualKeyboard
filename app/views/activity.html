
<style>
    .topheader a {
        font-size: 18px;
        padding: 10px;
        font-weight: 100;
        font-family: verdana;
    }

    .form-group label span
    {
        color:red;
    }

    .errorMessage
    {
        color:red;
    }
    
     .linkdisabled {
        opacity: 0.7;
        cursor: not-allowed;
    }

    .bottomnavigator {
        position: fixed;
        width: 100%;
        bottom: 0;
        left: 0;
        right: 0;
        color: #fff;
        padding-top: 7px;
        padding-bottom: 7px;
        z-index: 10;
    }

        .bottomnavigator a {
            font-size: 17px;
            padding: 10px;
            font-weight: 100;
            font-family: verdana;
            color: #fff;
        }

    .topheader {
        padding-bottom: 2px;
    }

    .maincontent {
        background: #fff;
        padding: 10px;
        padding-top: 0px;
        font-size: 12px;
        color: #6D6C6C;
        font-family: verdana;
    }

    .nav-tabs li {
        background: #fff;
        border: transparent;
        border-bottom: 2px solid #ccc;
    }

        .nav-tabs li a {
            background: #fff;
            border: transparent;
        }

    .nav-tabs .active {
        border-bottom: 2px solid #128ece;
    }

        .nav-tabs .active a {
            border: transparent !important;
        }

    .laststep .btn {
        border-radius: 100%;
        height: 50px;
        width: 50px;
        padding: 0px;
        font-size: 22px;
        text-align: center;
        line-height: 46px;
    }

    .laststep .row {
        border-bottom: 1px solid #eee;
        padding-bottom: 5px;
        padding-top: 5px;
    }

        .laststep .row h4 {
            margin-top: 12px;
        }

    .checkbox {
        padding-left: 0px;
    }

    label {
        display: block;
    }

    .rotateData {
        padding: 0px;
        height: 50px;
        width: 50px;
        background: #128ece;
        border-radius: 100%;
        color: #fff !important;
        -ms-transform: rotate(45deg);
        -webkit-transform: rotate(45deg);
        transform: rotate(45deg);
    }

    .movepin {
        -ms-transform: rotate(0deg);
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }


    .pull-right > .dropdown-menu {
        right: 17px;
    }
</style>

<style>
    .bootbox-confirm {
        top: 20%;
    }

    .mybootboxbody {
        padding-left: 20px;
        padding-top: 0px;
        padding-bottom: 0px;
    }

    .bootbox-confirm .btn {
        background: transparent !important;
        color: #000;
        padding: 8px 10px;
        padding-left: 2px;
        margin-right: 20px;
        font-weight: 200 !important;
    }

    body {
        font-family: Verdana;
    }

    .bootbox-confirm .modal-footer {
        margin-top: 0px;
        padding: 10px 15px 10px;
        background: #eee;
        padding-top: 0px;
        margin-top: 10px;
        padding-bottom: 0px;
        text-align: left;
        border-top: transparent;
    }

    .itemcheckicon {
        font-size: 35px;
        color: rgb(0, 150, 136);
        position: absolute;
        left: 31px;
        top: 15px;
    }
</style>


<style>
    .ViewSummary h4 {
        font-size: 15px;
        margin-top: 5px !important;
    }

    .ViewSummary h5 {
        font-size: 16px;
        margin-top: 5px;
        margin-bottom: 7px;
    }

    .ViewSummary img {
        margin-top: 5px;
    }

    .container {
        margin-left: 0px;
        margin-right: 0px;
        width: 100%;
        padding-left: 0px;
        padding-right: 0px;
    }

    .page-header {
        color: #000;
    }

    body {
        background: #fff;
    }

    .headerdropdown img {
        height: 30px;
        width: 30px;
        border-radius: 100%;
        border: 2px solid #e5e5e5;
        margin-top: 0px;
    }

    .form-control {
        border-radius: 0px;
    }


    .iteminfopanel {
        background: #EAEAEA;
        margin-top: 80px;
        padding: 5px;
        margin-bottom: 10px;
    }

    .customActivityData {
        margin-top: 85px;
    }

    .laststep {
        margin-top: 85px;
    }

    .bgm-increase {
        background-color: #177B3D;
    }

    .bgm-move {
        background-color: #C65E28;
    }

    .bgm-decrease {
        background-color: #AF2525;
    }

    .bgm-convert {
        background-color: #CE59A1;
    }

    .bgm-status {
        background-color: #583782;
    }

    .bgm-apply {
        background-color: #0D190F;
    }

    .tabmenu {
        text-align: center;
        margin-top:4px;
    }

        .tabmenu .active {
            transition: all 1s;
        }


        .tabmenu a {
            text-decoration: none;
            font-size: 15px;
            color: #E0DBDB !important;
            white-space: nowrap;
        }
</style>

<style>
    #locationlistmodal {
        background: #fff;
        background-color: #fff;
        width: 100%;
        margin: 0 auto;
        top: 0;
        bottom: 0;
        overflow: hidden;
    }

        #locationlistmodal .modal-header {
            padding-top: 5px;
            padding-bottom: 5px;
            padding-left: 7px;
        }

        #locationlistmodal .modal-body {
            overflow: auto;
            min-height: 250px;
            max-height: 500px;
            padding: 7px;
        }

        #locationlistmodal .modal-header .close {
            margin-top: 6px;
            opacity: 1;
        }
    .searchresultlist {
        padding-left: 0px;
        border: 1px solid #eaeaea;
    }


        .searchresultlist li a {
            color: #000;
            padding-left: 10px;
            font-size: 16px;
            text-decoration: none;
        }

        .searchresultlist li {
            list-style-type: none;
            padding-top: 10px;
            padding-bottom: 10px;
            background: #fff;
        }

            .searchresultlist li:nth-child(odd) {
                background: #eeeeee;
            }

            .searchresultlist li a .fa-angle-right {
                position: absolute;
                right: 32px;
                font-size: 26px;
            }
</style>


<style>


    .tabmenu .col-xs-4, .innerSpan {
        -webkit-transition: all 0.2s ease;
        -moz-transition: all 0.2s ease;
        -o-transition: all 0.2s ease;
        transition: all 0.2s ease;
        position: relative;
    }


    .tabmenu .innerSpan {
        position: absolute;
        bottom: 2px;
        display: block;
        width: 33.33333333%;
        height: 3px;
        background: white;
    }

    .left0{
        left:0%;
    }

    .left33 {
        left: 33%;
    }

    .left66 {
        left: 66%;
    }
</style>



<div style="top: 0;" class="topheader Increase {{CurrentHeaderClass}}">
    <div class="row">

        <div class="col-md-4 col-xs-3">
            <a href="#/mainmenu"><i class="fa fa-home"></i></a>
        </div>
        <div class="col-md-4 col-xs-6">
            <div style="text-align:center">
                <a ng-if="CurrentOperation!='Apply'">{{CurrentOperation}}</a>
                <a ng-if="CurrentOperation=='Apply'">Tag</a>
            </div>
        </div>
        <div class="col-md-4 col-xs-3">
            <div class="pull-right">


                <div class="headerdropdown dropdown">
                    <a data-toggle="dropdown" aria-expanded="true">
                        <img src="img/dummy-user48.png" alt="">
                    </a>
                    <ul class="dropdown-menu animated slideInDown">


                        <li>
                            <a><i class="fa fa-user"></i> My Profile</a>
                        </li>




                        <li>
                            <a ng-click="logOut()" title="Logout"><i class="fa fa-sign-out"></i> Log Out</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>





    <div class="row tabmenu">
        <div class="col-xs-4" ng-click="GoToStep(0,2)" ng-class="{'active':CurrentStep<CurrentCart.length}">
            <a>Cart Item <span style="border-radius:100%; background:#fff; padding-left:5px; padding-right:5px; color:#333;">{{CurrentCart.length}}</span> </a>
        </div>
        <div class="col-xs-4" ng-click="GoToStep(CurrentCart.length,2)" ng-class="{'active':CurrentStep==CurrentCart.length}">
            <a>Activity</a>
        </div>
        <div class="col-xs-4" ng-click="GoToStep(CurrentCart.length+1,2)" ng-class="{'active':CurrentStep==CurrentCart.length+1}">
            <a>Process</a>
        </div>

        <span class="innerSpan" ng-class="{'left0' : CurrentStep<CurrentCart.length, 'left33' : CurrentStep==CurrentCart.length,'left66' : CurrentStep==CurrentCart.length+1}"></span>
    

    </div>

    
</div>






<div class="maincontent">



    <div ng-if="_IsLoading==true">
        <div class="modal-backdrop fade in"></div>
        <div class="spinner" style="text-align:center; position:fixed; top:33%; width:100%;  z-index:10000">
            <img src="img/loader.gif" alt="Alternate Text" />
        </div>
    </div>

    <div class="swiper-container" ng-if="_IsLoading==false">

        <!--<ul class="nav nav-tabs">
            <li class="active"><a >Custom fields</a></li>
            <li><a >Activity fields</a></li>
            <li><a >Others</a></li>
        </ul>-->


        <div class="swiper-wrapper">
            <div class="swiper-slide" data-type="Activity" ng-repeat="CurrentActiveObject in CurrentCart" data-index="{{$index}}">

                <div class="iteminfopanel">
                    <div class="row">
                        <div class="col-md-1 col-xs-3">

                            <i ng-click="DeleteItem(CurrentActiveObject)" class="itemcheckicon fa fa-check"></i>

                            <img ng-click="DeleteItem(CurrentActiveObject)" ng-if="CurrentActiveObject.InventoryDataList.ImageThumbPath==''" style="height:60px; width:60px; border:1px solid #ccc;" src="img/default.png" />
                            <img ng-click="DeleteItem(CurrentActiveObject)" ng-if="CurrentActiveObject.InventoryDataList.ImageThumbPath!=''" style="height:60px; width:60px; border:1px solid #ccc;" src="{{CurrentActiveObject.InventoryDataList.ImageThumbPath}}" alt="" />
                        </div>
                        <div class="col-md-10 col-xs-9">
                            <div> <span style="font-size:18px;">{{CurrentActiveObject.InventoryDataList.oquantity}}  </span> <span> {{CurrentActiveObject.InventoryDataList.uomUOM }} </span>  of <span> {{CurrentActiveObject.InventoryDataList.pPart }}</span>  </div>
                            <div>  <span> {{CurrentActiveObject.InventoryDataList.pDescription }}  </span> </div>
                            <div>
                                {{CurrentActiveObject.InventoryDataList.lLoc }}    {{CurrentActiveObject.InventoryDataList.iStatusValue }}
                            </div>
                        </div>
                    </div>
                </div>


                <div ng-if="CurrentOperation=='Move'">

                    <div class="row">
                        <div class="col-xs-8 col-md-8">


                            <div class="form-group">
                                <label>Quantity</label>
                                <div class="input-group">

                                    <div class="fg-line">

                                        <input placeholder="Fill Quantity" type="number" class="form-control" ng-model="CurrentActiveObject.MoveTransactionData.ActionQuantity" />

                                    </div>
                                 
                                </div>
                            </div>







                            <div ng-if="CurrentActiveObject.MoveTransactionData.ActionQuantity>CurrentActiveObject.InventoryDataList.oquantity" class="errorMessage">
                                <span ng-if="AllowNegative!=null && AllowNegative!='True'"> Quantity can't be greater than original quantity</span>
                            </div>
                        </div>
                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">

                                <label>&nbsp;</label>
                                <button data-toggle="dropdown" aria-expanded="false" id="movebutton_{{CurrentActiveObject.InventoryDataList.uId}}" type="button" class="btn rotateData btnPrimary btn-icon">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>


                                <ul class="dropdown-menu">
                                    <li><a data-ng-click="FillQuantityMove(CurrentActiveObject.MoveTransactionData.ActionQuantity,CurrentActiveObject.InventoryDataList.uId,1)"><i class="fa fa-check"></i> Use this quantity for all</a></li>
                                    <li><a data-ng-click="FillQuantityMove(CurrentActiveObject.MoveTransactionData.ActionQuantity,CurrentActiveObject.InventoryDataList.uId,2)"><i class="fa fa-check"></i> Fill all with current quantity</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <br />

                    <div class="row">
                        <div class="col-xs-8 col-md-8">

                            <div class="form-group">
                                <div class="fg-line">

                                    <label>Location </label>

                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Select Location" ng-model="CurrentActiveObject.MoveTransactionData.MoveToLocationText" />

                                        <span class="input-group-addon last" ng-click="locationlist(CurrentActiveObject.InventoryID,CurrentActiveObject.InventoryDataList.iLID)"><i class="fa fa-search"></i></span>
                                    </div>

                                   

                                    <span ng-if="CurrentActiveObject.MoveTransactionData.MoveToLocation==CurrentActiveObject.InventoryDataList.iLID" class="errorMessage">
                                     Can't move to same location please update.
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">
                                <label>&nbsp;</label>
                                <button id="location_{{CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click="FillLocation(CurrentActiveObject.MoveTransactionData.MoveToLocation,CurrentActiveObject.MoveTransactionData.MoveToLocationText,CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-xs-8 col-md-8">
                            <div class="form-group">
                                <label>Status</label>
                                <div class="fg-line">
                                    <div class="select">

                                     

                                        <select class="form-control" ng-model="CurrentActiveObject.MoveTransactionData.StatusToUpdate">
                                            <option value="">None</option>
                                            <option ng-repeat="_optionValue in StatusList" value="{{_optionValue.StatusValue}}">{{_optionValue.StatusValue}}</option>
                                        </select>
                                    </div>
                                </div>

                            </div>


                        </div>
                        <div class="col-xs-4 col-md-4">

                            <label>&nbsp;</label>

                            <div class="pull-right">
                                <button id="LineItems2_{{CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click="FillStatusLineItems2(CurrentActiveObject.MoveTransactionData.StatusToUpdate,CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <br />
                </div>


                <div class="row" ng-if=" CurrentOperation!='Convert' &&  CurrentOperation!='Move'">
                    <div class="col-xs-8 col-md-8">

                        <div class="form-group">
                            <label>Quantity</label>
                            <div class="fg-line">
                                <input type="number" placeholder="Fill Quantity" ng-model="CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity" class="input-mini form-control  WholeNumbersOnly NumberType" />
                            </div>
                        </div>

                        <div>




                            <span ng-if=" CurrentOperation!='Increase'&&   CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity> CurrentActiveObject.InventoryDataList.oquantity" class="errorMessage">

                                <span ng-if=" CurrentOperation=='Increase' ||  CurrentOperation=='Decrease'">Quantity can't be greater than original quantity</span>
                                <span ng-if=" AllowNegative!=null &&  AllowNegative!='True' &&  CurrentOperation!='Increase' &&  CurrentOperation!='Decrease'"> Quantity can't be greater than original quantity</span>
                            </span>
                        </div>
                    </div>

                    <div class="col-xs-4 col-md-4">
                        <label>&nbsp;</label>
                        <div class="pull-right">
                            <button data-toggle="dropdown" aria-expanded="false" id="mybutton_{{ CurrentActiveObject.InventoryDataList.uId}}" type="button" class="btn rotateData btnPrimary btn-icon">
                                <i class="fa fa-thumb-tack"></i>
                            </button>


                            <ul class="dropdown-menu">
                                <li><a data-ng-click=" FillQuantity( CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity, CurrentActiveObject.InventoryDataList.uId,1)"><i class="fa fa-check"></i> Use this quantity for all</a></li>
                                <li><a data-ng-click=" FillQuantity( CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity, CurrentActiveObject.InventoryDataList.uId,2)"><i class="fa fa-check"></i> Fill all with current quantity</a></li>
                            </ul>
                        </div>
                    </div>
                </div>


                <div class="row" ng-if=" CurrentOperation=='Increase'&&  CanCost=='True'">

                    <div class="col-xs-8 col-md-8">
                        <div class="form-group" ng-if="_groupRow.ActionPerformed!=-1">
                            <label>Cost per unit</label>
                            <div class="fg-line">

                                <input type="number" placeholder="Fill Cost per unit" class="form-control NumberType FormControlType" ng-model=" CurrentActiveObject.iCostPerItem" />

                            </div>
                        </div>


                    </div>
                    <div class="col-xs-4 col-md-4">
                        <div class="pull-right">
                            <label>&nbsp;</label>
                            <button id="mybuttonCost_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillCost( CurrentActiveObject.iCostPerItem, CurrentActiveObject.InventoryDataList.uId)">
                                <i class="fa fa-thumb-tack"></i>
                            </button>
                        </div>
                    </div>
                </div>


                <div class="row" ng-if="isLineItemColumnNames.length>0 && IsActiveTransactionField(CurrentActiveObject.IsLineItemData[$index].cfdID)" data-ng-repeat="_columns in isLineItemColumnNames">


                    <div class="col-xs-8 col-md-8">
                        <div class="form-group">
                            <label>{{_columns}} <span ng-if="CurrentActiveObject.IsLineItemData[$index].cfdIsRequired==true" class="errorMessage">*</span></label>
                            <div class="{{CurrentActiveObject.IsLineItemData[$index].cfdDataType!='checkbox'?'fg-line':''}}">

                                <input placeholder="fill {{_columns}}" type="text" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='string'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control stringType" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />

                                <div ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='checkbox'" class="checkbox">
                                    <div class="form-control FormControlType">

                                        <label>
                                            <input type="checkbox" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue"><i class="input-helper"></i>
                                        </label>
                                    </div>

                                </div>

                                <div ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='combobox'">
                                    <div class="fg-line">

                                        <div class="select">
                                            <select class="form-control" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue">

                                                <option value="{{_optionValue}}" ng-repeat="_optionValue in CurrentActiveObject.IsLineItemData[$index].cfdComboValues track by $index">{{_optionValue}}</option>

                                            </select>
                                        </div>
                                    </div>

                                </div>
                                <input type="text" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='date'||CurrentActiveObject.IsLineItemData[$index].cfdDataType=='datetime'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control customFieldDatePicker" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                                <input type="number" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='number'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control numberType" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                                <input type="text" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='currency'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control numberType" ng-change="ConvertZeroCurrency(CurrentActiveObject.InventoryDataList.uId,$index)" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                            </div>
                            <div>

                                <span ng-if="CurrentActiveObject.IsLineItemData[$index].cfdIsRequired==true && TrimValue(CurrentActiveObject.IsLineItemData[$index].CfValue)=='' " class="errorMessage">
                                    {{CurrentActiveObject.IsLineItemData[$index].cfdName }} field is required.

                                </span>

                                <span ng-if="(CurrentActiveObject.IsLineItemData[$index].cfdDataType=='date'||CurrentActiveObject.IsLineItemData[$index].cfdDataType=='datetime') && TrimValue(CurrentActiveObject.IsLineItemData[$index].CfValue)!='' && CheckProperDate(CurrentActiveObject.IsLineItemData[$index].CfValue)!=true" class="errorMessage">
                                    {{CurrentActiveObject.IsLineItemData[$index].cfdName }} value is not a proper date, please fill correct date.

                                </span>
                            </div>
                        </div>
                    </div>


                    <div class="col-xs-4 col-md-4">
                        <div class="pull-right">
                            <label>&nbsp;</label>
                            <button id="lineitem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}_{{CurrentActiveObject.IsLineItemData[$index].InventoryID}}" class="btn rotateData btnPrimary btn-icon" data-ng-click="FillLineItem($index,CurrentActiveObject.IsLineItemData[$index].cfdID,CurrentActiveObject.IsLineItemData[$index].CfValue,CurrentActiveObject.IsLineItemData[$index].InventoryID)">
                                <i class="fa fa-thumb-tack"></i>
                            </button>
                        </div>
                    </div>


                </div>

                <div ng-if="CurrentOperation=='Apply'">

                    <div class="row" ng-if=" IsMyInventoryColumns('iReqValue')==true">
                        <div class="col-xs-8 col-md-8">
                            <div class="form-group">
                                <label>{{ GetColumnLabel('iReqValue')}}</label>
                                <div class="fg-line">

                                    <input type="text" class="form-control" placeholder="{{ GetColumnLabel('iReqValue')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag1" />

                                </div>
                            </div>





                        </div>
                        <div class="col-xs-4 col-md-4">
                            <label>&nbsp;</label>
                            <div class="pull-right">
                                <button id="unittag1_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iReqValue', CurrentActiveObject.ApplyTransactionData.UnitTag1, CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>


                    </div>

                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitTag2')==true">
                        <div class="col-xs-8 col-md-8">
                            <div class="form-group">
                                <label>{{ GetColumnLabel('iUnitTag2')}}</label>
                                <div class="fg-line">

                                    <input type="text" class="form-control" placeholder="{{ GetColumnLabel('iUnitTag2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag2" />

                                </div>

                            </div>



                        </div>
                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">
                                <label>&nbsp;</label>
                                <button id="unittag2_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitTag2', CurrentActiveObject.ApplyTransactionData.UnitTag2,  CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>

                    </div>
                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitTag3')==true">
                        <div class="col-xs-8 col-md-8">
                            <div class="form-group">
                                <label>{{ GetColumnLabel('iUnitTag3')}}</label>
                                <div class="fg-line">

                                    <input type="text" class="form-control" placeholder="{{ GetColumnLabel('iUnitTag3')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag3" />

                                </div>
                            </div>


                        </div>
                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">
                                <label>&nbsp;</label>
                                <button id="unittag3_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitTag3', CurrentActiveObject.ApplyTransactionData.UnitTag3, CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>


                    </div>

                    <div class="row" ng-if=" IsMyInventoryColumns('iUniqueDate')==true">
                        <div class="col-xs-8 col-md-8">
                            <div class="form-group">
                                <label>{{ GetColumnLabel('iUniqueDate')}}</label>
                                <div class="fg-line">
                                    <input type="date" class="form-control unitDatePicker" placeholder="{{ GetColumnLabel('iUniqueDate')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UniqueDate" />

                                </div>
                            </div>


                        </div>
                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">
                                <label>&nbsp;</label>
                                <button id="unitdate_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUniqueDate', CurrentActiveObject.ApplyTransactionData.UniqueDate, CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>


                    </div>
                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitDate2')==true">
                        <div class="col-xs-8 col-md-8">
                            <div class="form-group">
                                <label>{{ GetColumnLabel('iUnitDate2')}}</label>
                                <div class="fg-line">
                                    <input type="date" class="form-control unitDatePicker" placeholder="{{ GetColumnLabel('iUnitDate2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitDate2" />

                                </div>
                            </div>


                        </div>
                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">
                                <label>&nbsp;</label>
                                <button id="unitdate2_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitDate2', CurrentActiveObject.ApplyTransactionData.UnitDate2, CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>


                    </div>
                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitNumber1')==true">
                        <div class="col-xs-8 col-md-8">

                            <div class="form-group">
                                <label>{{ GetColumnLabel('iUnitNumber1')}}</label>
                                <div class="fg-line">

                                    <input type="number" class="form-control NumberType" placeholder="{{ GetColumnLabel('iUnitNumber1')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitNumber1" />

                                </div>
                            </div>



                        </div>
                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">
                                <label>&nbsp;</label>
                                <button id="unitnumber1_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitNumber1', CurrentActiveObject.ApplyTransactionData.UnitNumber1, CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>


                    </div>
                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitNumber2')==true">
                        <div class="col-xs-8 col-md-8">

                            <div class="form-group">
                                <label>{{ GetColumnLabel('iUnitNumber2')}}</label>
                                <div class="fg-line">

                                    <input type="number" class="form-control NumberType" placeholder="{{ GetColumnLabel('iUnitNumber2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitNumber2" />

                                </div>
                            </div>


                        </div>
                        <div class="col-xs-4 col-md-4">
                            <div class="pull-right">
                                <label>&nbsp;</label>
                                <button id="unitnumber2_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitNumber2', CurrentActiveObject.ApplyTransactionData.UnitNumber2, CurrentActiveObject.InventoryDataList.uId)">
                                    <i class="fa fa-thumb-tack"></i>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="swiper-slide  customActivityData" data-type="Cart" data-index="{{CurrentCart.length}}">


                <div class="form-group">
                    <label>Activity Date <span>*</span> </label>
                    <div class="input-group">
                        <input type="date" class="form-control" id="itUpdateDate" />

                    </div>

                </div>


                <div class="form-group" ng-repeat="obj in CustomActivityDataList" ng-if="CustomActivityDataList.length > 0 && obj.isLineItem!='True' && IsActiveTransactionField(obj.cfdID)">
                    <label>{{obj.cfdName}} <span ng-if="obj.cfdIsRequired">*</span></label>
                    <div ng-if="obj.cfdDataType=='string'" class="input-group">
                        <input id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="text" class="form-control stringType" value="{{obj.CfValue}}" />
                    </div>


                    <div ng-if="obj.cfdDataType=='checkbox'" class="checkbox">

                        <input type="checkbox" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" bootstrap-switch>

                    </div>

                    <div class="input-group" ng-if="obj.cfdDataType=='combobox'">


                        <div class="select">
                            <select id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" class="form-control">

                                <option value="{{_optionValue}}" ng-repeat="_optionValue in obj.cfdComboValues track by $index">{{_optionValue}}</option>

                            </select>
                        </div>

                    </div>


                    <div ng-if="obj.cfdDataType=='date'||obj.cfdDataType=='datetime'" class="input-group">
                        <input id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="date" class="form-control customFieldDatePicker FormDateType" />
                    </div>

                    <div ng-if="obj.cfdDataType=='number'" class="input-group">
                        <input id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="number" class="form-control FormControlType" value="{{obj.CfValue}}" />
                    </div>

                    <div ng-if="obj.cfdDataType=='currency'" class="input-group">
                        <input id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="text" class="form-control FormControlType" ng-change="" value="{{obj.CfValue}}" />
                    </div>

                </div>




            </div>

            <div class="swiper-slide laststep" data-type="LastStep" data-index="{{CurrentCart.length+1}}">

                <div ng-if="IsSummary==false">

                    <div ng-if="IsProcessing==false" style=" margin-left:0px; margin-right:0px;" class="row btn-success" ng-click="SubmitAllActivities()">

                        <div class="col-xs-8">
                            <h4>Process cart</h4>
                        </div>
                        <div class="col-xs-4">
                            <div style="text-align:right;">
                                <i style="font-size:25px; color:#fff; margin-top:10px;" class="fa fa-refresh"></i>
                            </div>


                        </div>


                    </div>

                    <div ng-if="IsProcessing==true" style=" margin-left:0px; margin-right:0px;" class="row btn-success linkdisabled" ng-click="SubmitAllActivities()">

                        <div class="col-xs-8">
                            <h4>Process cart</h4>
                        </div>
                        <div class="col-xs-4">
                            <div style="text-align:right;">
                                <i style="font-size:25px; color:#fff; margin-top:10px;" class="fa fa-spin fa-refresh"></i>
                            </div>


                        </div>


                    </div>
                    

                    <br />

                    <div style="margin-left:0px; margin-right:0px;" class="btn-info row" ng-click="OpenSummary()">

                        <div class="col-xs-8">
                            <h4>View summary</h4>
                        </div>

                        <div class="col-xs-4">

                            <div style="text-align:right">
                                <i style="font-size:25px; color:#fff; margin-top:10px;" class="fa fa-info-circle"></i>
                            </div>



                        </div>
                    </div>


                    <br />


                    <div style="margin-left:0px; margin-right:0px;" ng-click="keepcart()" class="row btn-warning">

                        <div class="col-xs-8">
                            <h4>Keep cart</h4>
                        </div>
                        <div class="col-xs-4">
                            <div style="text-align:right">
                                <i style="font-size:25px; color:#fff; margin-top:10px;" class="fa fa-shopping-cart"></i>
                            </div>



                        </div>
                    </div>

                    <br />

                    <div style="margin-left:0px; margin-right:0px;" ng-click="cancel()" class="row btn-danger">
                        <div class="col-xs-8">
                            <h4>Cancel cart</h4>
                        </div>
                        <div class="col-xs-4">

                            <div style="text-align:right;">
                                <i style="font-size:25px; color:#fff; margin-top:10px;" class="fa fa-times"></i>
                            </div>



                        </div>

                    </div>

                </div>


                <div class="ViewSummary animated fadeInLeft" ng-show="IsSummary==true">


                    <div class="row">
                        <div class="col-xs-4">
                            <a style="font-size:20px;" ng-click="CloseSummary()">
                                <i class="fa fa-long-arrow-left"></i>
                            </a>
                        </div>
                        <div class="col-xs-8">
                            <div style="text-align:right">
                                <h4>
                                    View Summary
                                </h4>
                            </div>
                        </div>
                    </div>




                    <div ng-show="CurrentCart.length > 0" class="card">





                        <div id="{{_groupRow.InventoryDataList.uId}}" data-ng-init="parentIndex = $index" data-ng-repeat="_groupRow in CurrentCart" data-toggle="tooltip" data-ng-attr-title="{{GetRowTitle(_groupRow)}}" data-ng-class="{error : _groupRow.iQty >_groupRow.oquantity}">


                            <div class="row">
                                <div class="col-xs-8">
                                    <div>
                                        <h5>{{_groupRow.ItemID}}</h5>



                                        <span ng-if="IsMyInventoryColumns('pDescription')==true">
                                            <span ng-show="_groupRow.InventoryDataList.pDescription!=null && _groupRow.InventoryDataList.pDescription!=''&& _groupRow.InventoryDataList.pDescription!=undefined"> of {{_groupRow.InventoryDataList.pDescription}} </span>
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('lLoc')==true">
                                            @@ {{_groupRow.InventoryDataList.lLoc}} <br />
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('iStatusValue')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iStatusValue!=null && _groupRow.InventoryDataList.iStatusValue!=''&& _groupRow.InventoryDataList.iStatusValue!=undefined">
                                                Status:<b> {{_groupRow.InventoryDataList.iStatusValue}}</b>,
                                            </span>
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('iReqValue')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iReqValue!=null && _groupRow.InventoryDataList.iReqValue!=''&& _groupRow.InventoryDataList.iReqValue!=undefined">
                                                {{GetColumnLabel('iReqValue')}}:
                                                <b>
                                                    {{_groupRow.InventoryDataList.iReqValue}}
                                                </b>,
                                            </span>
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('iUnitTag2')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iUnitTag2!=null && _groupRow.InventoryDataList.iUnitTag2!=''&& _groupRow.InventoryDataList.iUnitTag2!=undefined">
                                                {{GetColumnLabel('iUnitTag2')}}:<b> {{_groupRow.InventoryDataList.iUnitTag2}}</b>,
                                            </span>
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('iUnitTag3')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iUnitTag3!=null && _groupRow.InventoryDataList.iUnitTag3!=''&& _groupRow.InventoryDataList.iUnitTag3!=undefined">
                                                {{GetColumnLabel('iUnitTag3')}}:<b> {{_groupRow.InventoryDataList.iUnitTag3}}</b>,
                                            </span>
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('iUniqueDate')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iUniqueDate!=null && _groupRow.InventoryDataList.iUniqueDate!=''&& _groupRow.InventoryDataList.iUniqueDate!=undefined">
                                                {{GetColumnLabel('iUniqueDate')}}:<b>{{_groupRow.InventoryDataList.iUniqueDate}}</b>,
                                            </span>
                                        </span>

                                        <span ng-if="IsMyInventoryColumns('iUnitDate2')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iUnitDate2!=null && _groupRow.InventoryDataList.iUnitDate2!=''&& _groupRow.InventoryDataList.iUnitDate2!=undefined">
                                                {{GetColumnLabel('iUnitDate2')}}:<b>{{_groupRow.InventoryDataList.iUnitDate2}}</b>,
                                            </span>
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('iUnitNumber1')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iUnitNumber1!=null && _groupRow.InventoryDataList.iUnitNumber1!=''&& _groupRow.InventoryDataList.iUnitNumber1!=undefined">
                                                {{GetColumnLabel('iUnitNumber1')}}:<b>{{_groupRow.InventoryDataList.iUnitNumber1}}</b>,
                                            </span>
                                        </span>
                                        <span ng-if="IsMyInventoryColumns('iUnitNumber2')==true">
                                            <span ng-show="_groupRow.InventoryDataList.iUnitNumber2!=null && _groupRow.InventoryDataList.iUnitNumber2!=''&& _groupRow.InventoryDataList.iUnitNumber2!=undefined">
                                                {{GetColumnLabel('iUnitNumber2')}} :<b>{{_groupRow.InventoryDataList.iUnitNumber2}}</b>
                                            </span>
                                        </span>


                                    </div>

                                    <h4 class="{{CurrentHeaderClass}}-text" style="white-space:normal;">

                                        <span ng-if="CurrentOperation=='Increase'">
                                            Increased by quantity {{_groupRow.IncreaseDecreaseVMData.ActionQuantity}}
                                        </span>


                                        <span ng-if="CurrentOperation=='Decrease'">
                                            Decreased by quantity {{_groupRow.IncreaseDecreaseVMData.ActionQuantity}}
                                        </span>


                                        <span ng-if="CurrentOperation=='Update'">
                                            Update {{_groupRow.IncreaseDecreaseVMData.ActionQuantity}} items to  {{_groupRow.UpdateTransactionData.StatusToUpdate}} status
                                        </span>
                                        <span ng-if="CurrentOperation=='Convert'">
                                            Convert  From quantity {{_groupRow.ConvertTransactionData.ActionFromQuantity}} {{_groupRow.InventoryDataList.uomUOM}} to quantity {{_groupRow.ConvertTransactionData.ActionToQuantity}} {{GetUOMName(_groupRow.ConvertTransactionData.ToUOMID)}}
                                        </span>
                                        <span ng-if="CurrentOperation=='Move'">
                                            Move {{_groupRow.MoveTransactionData.ActionQuantity}} item(s) @@  {{_groupRow.MoveTransactionData.MoveToLocationText}}
                                        </span>

                                        <span ng-if="CurrentOperation=='Apply'">
                                            Apply unit data to quantity {{_groupRow.IncreaseDecreaseVMData.ActionQuantity}}
                                        </span>

                                    </h4>

                                    {{_groupRow.InventoryDataList.oquantity}} {{_groupRow.InventoryDataList.uomUOM}}
                                </div>
                                <div class="col-xs-4">
                                    <div style="text-align:right">
                                        <img ng-if="_groupRow.InventoryDataList.ImageThumbPath==''" style="height:60px; width:60px; border:1px solid #ccc;" src="img/default.png" />
                                        <img ng-if="_groupRow.InventoryDataList.ImageThumbPath!=''" style="height:60px; width:60px; border:1px solid #ccc;" src="{{_groupRow.InventoryDataList.ImageThumbPath}}" alt="" />
                                    </div>

                                </div>
                            </div>









                        </div>
                    </div>




                </div>

            </div>
        </div>
    </div>




</div>


<div>
    <br /><br />
</div>

<div class="bottomnavigator {{CurrentHeaderClass}}">
    <div class="row">

        <div class="col-md-4 col-xs-3">
            <a data-ng-click="GoToStep(CurrentStep-1,2)"><i class="fa fa-long-arrow-left"></i></a>
        </div>
        <div class="col-md-4 col-xs-6">
            <div style="text-align:center">
                <a ng-if="CurrentOperation!='Apply'">{{CurrentOperation}}</a>
                <a ng-if="CurrentOperation=='Apply'">Tag</a>
            </div>
        </div>
        <div class="col-md-4 col-xs-3">
            <div class="pull-right">

                <a data-ng-click="GoToStep(CurrentStep-1,1)" ng-class="{'adisabled': CurrentCart.length==0|| CurrentActiveStep==3}" class=""> <i class="fa fa-long-arrow-right"></i></a>
            </div>
        </div>

    </div>
</div>

<div id="locationlistmodal" class="modal animated bounceIn">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span> <i class="fa fa-times-circle"></i> </span></button>
        <h4>select Location <span style="font-size:11px;" ng-if="LocationSearchList.length > 0">{{LocationSearchList.length}} Location(s) found</span></h4>
        <div class="form-group">

            <div class="input-group">
                <input style="height:47px;" type="text" id="searchlocation" placeholder="Type Keyword to find locations" ng-change="OnChangeLocationNameFunction()" class="form-control" ng-model="SearchLocationValue" required="" autofocus />
                <span style="padding:0px;" class="input-group-addon last">
                    <a class="btn btn-primary" ng-click="ScanLocationsearch()"> <i class="fa fa-barcode"></i>&nbsp;&nbsp;Scan</a>
                </span>
            </div>
        </div>
    </div>

    <div class="modal-body">

        <div ng-if="LocationSearching==true">
            <i class="fa fa-spin fa-spinner"></i> searching please wait..
        </div>

        <div ng-if="isnolocationmsg == true" class="noitem">
            <div style="text-align: center; border: 1px solid #eeeeee;">
                <h4 style="font-size:20px;"><i class="fa fa-frown-o"></i> We're sorry !</h4>
                <h4 style="font-size:15px;">We can't find the location you're looking for</h4>
                <h5>click to <span ng-click="filllocation()" style="cursor:pointer; color:#0083C7; font-size:20px;">{{SearchLocationValue}}</span>  for add in your list.</h5>
            </div>
        </div>

        <ul class="searchresultlist" ng-if="LocationSearching==false">
            <li ng-click="LocationSetItemData(obj)" ng-repeat="obj in LocationSearchList">
                <a>
                    <span ng-bind-html="HighLightTerm(SearchLocationValue,obj.LocationName)"></span>


                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>

    </div>
</div>




