
<link href="css/activity.css" rel="stylesheet" />


<link href=".pgbomit/activityIOS.css" rel="stylesheet" />

<style>

    .updiv {
        background: white;
        padding: 10px;
        border: 1px solid #ccc;
    }

    .dropdown-listcustom {
        margin-top: -15px;
        left: 15px;
        width: 100%;
    }
    .collapsible-header {
        position: fixed;
        width: 100%;
        top: 36px;
        color: #000;
        background: #CECECE;
        z-index: 100;
        padding-top:2px;
        padding-bottom:2px;
    }

    .cartitems
    {
        display:block;
    }
    
    
     .collapsible-body {
        margin-top: 85px;
    }

     body
     {
         overflow-x:hidden !important;
     }
</style>

<div style="display:none" class="activity" ng-cloak>

    <div style="top: 0;" class="topheader header Increase {{CurrentHeaderClass}}">
        <div class="row" id="headerrow">

            <div class="col-md-4 col-xs-3">
                <a href="#/mainmenu"><i class="fa fa-home"></i></a>
            </div>
            <div class="col-md-4 col-xs-6">
                <div style="text-align:center">
                    <a ng-if="CurrentOperation!='Apply'">{{CurrentOperation}}</a>
                    <a ng-if="CurrentOperation=='Apply'">Tag</a>
                </div>
            </div>
            <div class="col-md-4 col-xs-3">
                
            </div>

        </div>


        <div ng-if="IsSingleMode==true" class="row tabmenu">
            <div class="col-xs-4" ng-click="GoToStep(0,2)" ng-if="IsSingleMode==true" ng-class="{'active':CurrentStep<CurrentCart.length}">
                <a>Cart Item <span class="newcartcounter">{{CurrentCart.length}}</span> </a>
            </div>
            <div class="col-xs-4" ng-click="GoToStep(CurrentCart.length,2)" ng-if="IsSingleMode==true" ng-class="{'active':CurrentStep==CurrentCart.length}">
                <a>Activity </a>
            </div>
            <div class="col-xs-4" ng-click="GoToStep(CurrentCart.length+1,2)" ng-if="IsSingleMode==true" ng-class="{'active':CurrentStep==CurrentCart.length+1}">
                <a>Process</a>
            </div>


            <div class="col-xs-4" ng-click="GoToStep(0,2)" ng-if="IsSingleMode==false" ng-class="{'active':CurrentStep==0}">
                <a>Cart Item <span class="newcartcounter">{{CurrentCart.length}}</span></a>
            </div>
            <div class="col-xs-4" ng-click="GoToStep(1,2)" ng-if="IsSingleMode==false" ng-class="{'active':CurrentStep==1}">
                <a>Activity </a>
            </div>
            <div class="col-xs-4" ng-click="GoToStep(2,2)" ng-if="IsSingleMode==false" ng-class="{'active':CurrentStep==2}">
                <a>Process</a>
            </div>

            <span class="innerSpan" ng-if="IsSingleMode==true" ng-class="{'left0' : CurrentStep<CurrentCart.length, 'left33' : CurrentStep==CurrentCart.length,'left66' : CurrentStep==CurrentCart.length+1}"></span>
            <span class="innerSpan" ng-if="IsSingleMode==false" ng-class="{'left0' : CurrentStep==0, 'left33' : CurrentStep==1,'left66' : CurrentStep==2}"></span>

        </div>

    </div>

    <div ng-if="IsSingleMode==false" onclick="cartitems()" class="collapsible-header">
        <span class="checkout-price">Show Cart summary</span>
        <i class="ion-android-arrow-dropdown"></i>
        <span ng-click="selecteditemlist()" class="checkout-price right">{{CurrentCart.length}} Items</span>
    </div>



    <div class="maincontent">

        <div ng-if="_IsLoading==true">
            <div class="modal-backdrop fade in"></div>
            <div class="spinner" style="text-align:center; position:fixed; top:33%; width:100%;  z-index:10000">
                <img src="img/loader.gif" alt="Alternate Text" />
            </div>
        </div>


        <div class="animated slideInDown singleSlide" ng-if="IsSingleMode==false" data-type="Cart" data-index="0">

            <div class="singlePanel">

                <ul class="collapsible checkout-header animated fadeindown delay-2" data-collapsible="accordion">
                    <li>
                        
                        <div class="cartitems collapsible-body z-depth-1">

                            <div class="mycartitem" ng-if="IsSingleMode==false" ng-init="parentIndex=$index" data-type="Cart" ng-repeat="CurrentActiveObject in CurrentCart" data-index="{{$index}}">

                                <div class="checkout-details">


                                    <img ng-click="DeleteItem(CurrentActiveObject)" ng-if="CurrentActiveObject.InventoryDataList.ImageThumbPath==''" style="height:50px; width:50px; border:1px solid #ccc; border-radius:100%;" class="checkout-image" src="img/default.png" />
                                    <img ng-click="DeleteItem(CurrentActiveObject)" ng-if="CurrentActiveObject.InventoryDataList.ImageThumbPath!=''" style="height: 50px; width: 50px; border: 1px solid #ccc; border-radius: 100%;" class="checkout-image" src="{{CurrentActiveObject.InventoryDataList.ImageThumbPath}}" alt="" />
                                    <div class="checkout-product-title">
                                        <button type="button" ng-click="DeleteItem(CurrentActiveObject)" class="summaryClearbtn pull-right"><i class="fa fa-times-circle"></i> </button>
                                        <h6><span><span style="font-size:18px;">{{CurrentActiveObject.InventoryDataList.oquantity}}  </span> <span> {{CurrentActiveObject.InventoryDataList.uomUOM }} </span>  </span> of {{CurrentActiveObject.InventoryDataList.pPart }} </h6>
                                        <span> {{CurrentActiveObject.InventoryDataList.iStatusValue }}</span>

                                    </div>

                                </div>

                                <div ng-if="CurrentOperation=='Move'">

                                    <div class="row">
                                        <div class="col-xs-8 col-md-8">


                                            <div class="form-group">

                                                <label>Quantity</label>

                                                <div class="input-group">

                                                    <div class="fg-line">

                                                        <input placeholder1="Fill Quantity" type="number" pattern="[0-9]*" inputmode="numeric" class="form-control" ng-model="CurrentActiveObject.MoveTransactionData.ActionQuantity" />

                                                    </div>

                                                </div>
                                            </div>







                                            <div ng-if="CurrentActiveObject.MoveTransactionData.ActionQuantity>CurrentActiveObject.InventoryDataList.oquantity" class="errorMessage">
                                                <span ng-if="AllowNegative!=null && AllowNegative!='True'"> Quantity can't be greater than original quantity</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">

                                                <label>&nbsp;</label>
                                                <button data-toggle="dropdown" aria-expanded="false" id="movebutton_{{CurrentActiveObject.InventoryDataList.uId}}" type="button" class="btn waves-effect rotateData btnPrimary btn-icon">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>


                                                <ul class="dropdown-menu">
                                                    <li><a data-ng-click="FillQuantityMove(CurrentActiveObject.MoveTransactionData.ActionQuantity,CurrentActiveObject.InventoryDataList.uId,1)"><i class="fa fa-check"></i> Use this quantity for all</a></li>
                                                    <li><a data-ng-click="FillQuantityMove(CurrentActiveObject.MoveTransactionData.ActionQuantity,CurrentActiveObject.InventoryDataList.uId,2)"><i class="fa fa-check"></i> Fill all with current quantity</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>



                                    <div class="row">
                                        <div class="col-xs-8 col-md-8">

                                            <div class="form-group">


                                                <label>Location</label>
                                                <div class="fg-line">



                                                    <div class="input-group">
                                                        <input type="text" class="form-control" placeholder1="Select Location" ng-model="CurrentActiveObject.MoveTransactionData.MoveToLocationText" />

                                                        <span class="input-group-addon last" ng-click="locationlist(CurrentActiveObject.InventoryID,CurrentActiveObject.InventoryDataList.iLID)"><i class="fa fa-search"></i></span>
                                                    </div>



                                                    <span ng-if="CurrentActiveObject.MoveTransactionData.MoveToLocation==CurrentActiveObject.InventoryDataList.iLID" class="errorMessage">
                                                        Can't move to same location please update.
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="location_{{CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click="FillLocation(CurrentActiveObject.MoveTransactionData.MoveToLocation,CurrentActiveObject.MoveTransactionData.MoveToLocationText,CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>Status</label>
                                                <!--<div class="fg-line">
                    <div class="select">



                        <select class="form-control" ng-model="CurrentActiveObject.MoveTransactionData.StatusToUpdate">
                            <option value="">None</option>
                            <option ng-repeat="_optionValue in StatusList" ng-selected="CheckStatusValues(CurrentActiveObject.MoveTransactionData.StatusToUpdate,_optionValue.StatusValue)?true:false" value="{{_optionValue.StatusValue}}">{{_optionValue.StatusValue}}</option>
                        </select>
                    </div>
                </div>-->
                                                <div class="updiv dropdown-toggle" data-toggle="dropdown" title="(click to change)">
                                                    {{CurrentActiveObject.MoveTransactionData.StatusToUpdate}}
                                                    <i class="caret pull-right" style="margin-top: 8px"></i>
                                                </div>
                                                <ul class="dropdown-menu operator dropdown-listcustom" role="menu" aria-labelledby="dropdownMenu">


                                                    <li ng-repeat="_optionValue in StatusList">
                                                        <a>
                                                            <table style="width: 100%">
                                                                <tr>
                                                                    <td ng-click="CurrentActiveObject.MoveTransactionData.StatusToUpdate=_optionValue.StatusValue">{{_optionValue.StatusValue}}</td>


                                                                </tr>
                                                            </table>
                                                        </a>

                                                    </li>


                                                </ul>
                                            </div>
                                        </div>


                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">

                                            <label>&nbsp;</label>

                                            <div class="pull-right">
                                                <button id="LineItems2_{{CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click="FillStatusLineItems2(CurrentActiveObject.MoveTransactionData.StatusToUpdate,CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    </div>

                                </div>


                                <div class="row" ng-if=" CurrentOperation!='Convert' &&  CurrentOperation!='Move'">
                                    <div class="col-xs-8 col-md-8">

                                        <div class="form-group">
                                            <label>

                                                Quantity
                                                <span ng-if="CurrentOperation=='Adjust' && TrimValue(CurrentActiveObject.AdjustCalculation)!=''" class="AdjustCalculation">
                                                    <span ng-if="CurrentActiveObject.ActionPerformed==1 && CurrentActiveObject.AdjustActionQuantity!=0" class="z-depth-1 AdjustIncrease">({{CurrentActiveObject.AdjustCalculation}})</span>
                                                    <span ng-if="CurrentActiveObject.ActionPerformed==-1 && CurrentActiveObject.AdjustActionQuantity!=0" class="z-depth-1 AdjustDecrease">({{CurrentActiveObject.AdjustCalculation}})</span>
                                                    <span ng-if="CurrentActiveObject.ActionPerformed==1 && CurrentActiveObject.AdjustActionQuantity==0" class="z-depth-1 AdjustNetzero">({{CurrentActiveObject.AdjustCalculation}})</span>

                                                </span>

                                            </label>
                                            <div class="fg-line">
                                                <input type="number" pattern="[0-9]*" inputmode="numeric" placeholder1="Fill Quantity" ng-change="UpdateQty(CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity,$index)" ng-blur="UpdateQty(CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity,$index)" ng-model="CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity" class="input-mini form-control  WholeNumbersOnly NumberType" />
                                            </div>


                                        </div>



                                        <div>




                                            <span ng-if="CurrentOperation!='Increase'&& CurrentOperation!='Adjust' && CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity> CurrentActiveObject.InventoryDataList.oquantity" class="errorMessage">

                                                <span ng-if=" CurrentOperation=='Increase' ||  CurrentOperation=='Decrease'||CurrentOperation=='Update'||CurrentOperation=='Apply'">Quantity can't be greater than original quantity</span>
                                                <span ng-if=" AllowNegative!=null &&  AllowNegative!='True' &&  CurrentOperation!='Increase' &&  CurrentOperation!='Decrease' && CurrentOperation!='Update'&& CurrentOperation!='Apply'"> Quantity can't be greater than original quantity</span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                        <label>&nbsp;</label>
                                        <div class="pull-right">
                                            <button data-toggle="dropdown" aria-expanded="false" id="mybutton_{{ CurrentActiveObject.InventoryDataList.uId}}" type="button" class="btn waves-effect rotateData btnPrimary btn-icon">
                                                <i class="fa fa-thumb-tack"></i>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a data-ng-click="FillQuantityNew(CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity, CurrentActiveObject.InventoryDataList.uId,1)"><i class="fa fa-check"></i> Use this quantity for all</a></li>
                                                <li><a data-ng-click="FillQuantityNew(CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity, CurrentActiveObject.InventoryDataList.uId,2)"><i class="fa fa-check"></i> Fill all with current quantity</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>


                                <div class="row" ng-if=" CurrentOperation=='Increase'&&  CanCost=='True'">

                                    <div class="col-xs-8 col-md-8">
                                        <div class="form-group" ng-if="_groupRow.ActionPerformed!=-1">
                                            <label>Cost/unit</label>
                                            <div class="fg-line">

                                                <input type="number" pattern="[0-9]*" inputmode="numeric" placeholder1="Fill Cost per unit" class="form-control NumberType FormControlType" ng-model=" CurrentActiveObject.iCostPerItem" />

                                            </div>
                                        </div>


                                    </div>
                                    <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                        <div class="pull-right">
                                            <label>&nbsp;</label>
                                            <button id="mybuttonCost_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillCost( CurrentActiveObject.iCostPerItem, CurrentActiveObject.InventoryDataList.uId)">
                                                <i class="fa fa-thumb-tack"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div ng-if="CurrentOperation=='Update'">
                                    <div class="row">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>Status</label>
                                                <div class="fg-line">
                                                    <div class="select">
                                                        <select class="form-control" ng-model="CurrentActiveObject.UpdateTransactionData.StatusToUpdate">
                                                            <option value="">None</option>
                                                            <option ng-repeat="_optionValue in StatusList" ng-selected="CheckStatusValues(CurrentActiveObject.UpdateTransactionData.StatusToUpdate,_optionValue.StatusValue)?true:false" value="{{_optionValue.StatusValue}}">{{_optionValue.StatusValue}}</option>
                                                        </select>
                                                    </div>
                                                </div>

                                            </div>


                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="status_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click="FillStatusLineItems(CurrentActiveObject.UpdateTransactionData.StatusToUpdate, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>


                                <div ng-if="CurrentOperation=='Apply'">

                                    <div class="row" ng-if=" IsMyInventoryColumns('iReqValue')==true">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>{{ GetColumnLabel('iReqValue')}}</label>
                                                <div class="fg-line">

                                                    <input type="text" class="form-control" placeholder1="{{ GetColumnLabel('iReqValue')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag1" />

                                                </div>
                                            </div>





                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <label>&nbsp;</label>
                                            <div class="pull-right">
                                                <button id="unittag1_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iReqValue', CurrentActiveObject.ApplyTransactionData.UnitTag1, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>


                                    </div>

                                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitTag2')==true">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>{{ GetColumnLabel('iUnitTag2')}}</label>
                                                <div class="fg-line">

                                                    <input type="text" class="form-control" placeholder1="{{ GetColumnLabel('iUnitTag2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag2" />

                                                </div>

                                            </div>



                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="unittag2_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitTag2', CurrentActiveObject.ApplyTransactionData.UnitTag2,  CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitTag3')==true">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>{{ GetColumnLabel('iUnitTag3')}}</label>
                                                <div class="fg-line">

                                                    <input type="text" class="form-control" placeholder1="{{ GetColumnLabel('iUnitTag3')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag3" />

                                                </div>
                                            </div>


                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="unittag3_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitTag3', CurrentActiveObject.ApplyTransactionData.UnitTag3, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>


                                    </div>

                                    <div class="row" ng-if=" IsMyInventoryColumns('iUniqueDate')==true">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>{{ GetColumnLabel('iUniqueDate')}}</label>
                                                <div class="fg-line">
                                                    <input type="date" class="form-control unitDatePicker" placeholder1="{{ GetColumnLabel('iUniqueDate')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UniqueDate" />

                                                </div>
                                            </div>


                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="unitdate_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUniqueDate', CurrentActiveObject.ApplyTransactionData.UniqueDate, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitDate2')==true">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>{{ GetColumnLabel('iUnitDate2')}}</label>
                                                <div class="fg-line">
                                                    <input type="date" class="form-control unitDatePicker" placeholder1="{{ GetColumnLabel('iUnitDate2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitDate2" />

                                                </div>
                                            </div>


                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="unitdate2_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitDate2', CurrentActiveObject.ApplyTransactionData.UnitDate2, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitNumber1')==true">
                                        <div class="col-xs-8 col-md-8">

                                            <div class="form-group">
                                                <label>{{ GetColumnLabel('iUnitNumber1')}}</label>
                                                <div class="fg-line">

                                                    <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control NumberType" placeholder1="{{ GetColumnLabel('iUnitNumber1')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitNumber1" />

                                                </div>
                                            </div>



                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="unitnumber1_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitNumber1', CurrentActiveObject.ApplyTransactionData.UnitNumber1, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="row" ng-if=" IsMyInventoryColumns('iUnitNumber2')==true">
                                        <div class="col-xs-8 col-md-8">

                                            <div class="form-group">
                                                <label>{{ GetColumnLabel('iUnitNumber2')}}</label>
                                                <div class="fg-line">

                                                    <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control NumberType" placeholder1="{{ GetColumnLabel('iUnitNumber2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitNumber2" />

                                                </div>
                                            </div>


                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="unitnumber2_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUnitData('iUnitNumber2', CurrentActiveObject.ApplyTransactionData.UnitNumber2, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>



                                <div ng-if="CurrentOperation=='Convert'">
                                    <div class="row">
                                        <div class="col-xs-8 col-md-8">
                                            <div class="form-group">
                                                <label>Quantity</label>

                                                <div class="input-group">
                                                    <div class="fg-line" ng-class="CurrentActiveObject.ConvertTransactionData.ActionFromQuantity=='' ||  CurrentActiveObject.ConvertTransactionData.ActionFromQuantity> CurrentActiveObject.InventoryDataList.oquantity ?'':''">

                                                        <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control WholeNumbersOnly NumberType" placeholder1="This value is required" ng-model=" CurrentActiveObject.ConvertTransactionData.ActionFromQuantity" />

                                                    </div>

                                                    <span class="input-group-addon last text" style=" max-width: 100px; white-space: nowrap;"> {{ CurrentActiveObject.InventoryDataList.uomUOM}}</span>
                                                </div>
                                            </div>
                                            <div ng-if=" CurrentActiveObject.ConvertTransactionData.ActionFromQuantity> CurrentActiveObject.InventoryDataList.oquantity" class="errorMessage">
                                                <span ng-if=" AllowNegative!=null &&  AllowNegative!='True'"> Quantity can't be greater than original quantity</span>

                                            </div>

                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">

                                                <label>&nbsp;</label>

                                                <button data-toggle="dropdown" aria-expanded="false" id="convertqty_{{ CurrentActiveObject.InventoryDataList.uId}}" type="button" class="btn waves-effect rotateData btnPrimary btn-icon">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>


                                                <ul class="dropdown-menu">
                                                    <li><a data-ng-click=" FillQuantityConvert( CurrentActiveObject.ConvertTransactionData.ActionFromQuantity, CurrentActiveObject.InventoryDataList.uId,1)"><i class="fa fa-check"></i> Use this quantity for all</a></li>
                                                    <li><a data-ng-click=" FillQuantityConvert( CurrentActiveObject.ConvertTransactionData.ActionFromQuantity, CurrentActiveObject.InventoryDataList.uId,2)"><i class="fa fa-check"></i> Fill all with current quantity</a></li>
                                                </ul>
                                            </div>
                                        </div>

                                    </div>



                                    <div class="row">
                                        <div class="col-xs-8 col-md-8">

                                            <div class="form-group">

                                                <label>New Quantity <span>*</span></label>

                                                <div class="fg-line" ng-class=" CurrentActiveObject.ConvertTransactionData.ActionToQuantity==''?'':''">

                                                    <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control WholeNumbersOnly NumberType" placeholder1="This value is required" ng-model=" CurrentActiveObject.ConvertTransactionData.ActionToQuantity" />

                                                </div>
                                            </div>


                                            <div>

                                            </div>
                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">

                                                <label>&nbsp;</label>
                                                <button data-toggle="dropdown" aria-expanded="false" id="convertqty2_{{ CurrentActiveObject.InventoryDataList.uId}}" type="button" class="btn waves-effect rotateData btnPrimary btn-icon">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>


                                                <ul class="dropdown-menu">
                                                    <li><a data-ng-click=" FillQuantityToConvert( CurrentActiveObject.ConvertTransactionData.ActionToQuantity, CurrentActiveObject.InventoryDataList.uId,1)"><i class="fa fa-check"></i> Use this quantity for all</a></li>
                                                    <li><a data-ng-click=" FillQuantityToConvert( CurrentActiveObject.ConvertTransactionData.ActionToQuantity, CurrentActiveObject.InventoryDataList.uId,3)"><i class="fa fa-check"></i> Multiply all by this quantity</a></li>
                                                    <li><a data-ng-click=" FillQuantityToConvert( CurrentActiveObject.ConvertTransactionData.ActionToQuantity, CurrentActiveObject.InventoryDataList.uId,4)"><i class="fa fa-check"></i> Divide quantities by this Quantity</a></li>
                                                    <li><a data-ng-click=" FillQuantityToConvert( CurrentActiveObject.ConvertTransactionData.ActionToQuantity, CurrentActiveObject.InventoryDataList.uId,2)"><i class="fa fa-check"></i> Fill all with current quantity</a></li>
                                                </ul>
                                            </div>
                                        </div>


                                    </div>



                                    <div class="row">
                                        <div class="col-xs-8 col-md-8">

                                            <div class="form-group">

                                                <label>Select UOM <span>*</span></label>

                                                <div class="fg-line" ng-class=" CurrentActiveObject.ConvertTransactionData.ToUOMID==''?'':''">
                                                    <div class="select">
                                                        <select class="form-control" ng-model=" CurrentActiveObject.ConvertTransactionData.ToUOMID">
                                                            <option value="">None</option>
                                                            <option ng-repeat="_optionValue in  UOMList" value="{{_optionValue.UnitOfMeasureID}}">{{_optionValue.UnitOfMeasureName}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>



                                        </div>
                                        <div class="col-xs-4 col-md-4" ng-if="$index==0">
                                            <div class="pull-right">
                                                <label>&nbsp;</label>
                                                <button id="uom_{{ CurrentActiveObject.InventoryDataList.uId}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click=" FillUOMLineItems( CurrentActiveObject.ConvertTransactionData.ToUOMID, CurrentActiveObject.InventoryDataList.uId)">
                                                    <i class="fa fa-thumb-tack"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                                <div class="row" ng-if="isLineItemColumnNames.length>0 && IsActiveTransactionField(CurrentActiveObject.IsLineItemData[$index].cfdID)" data-ng-repeat="_columns in isLineItemColumnNames">


                                    <div class="col-xs-8 col-md-8">
                                        <div class="form-group">
                                            <label>{{_columns}} <span ng-if="CurrentActiveObject.IsLineItemData[$index].cfdIsRequired==true" class="errorMessage">*</span></label>
                                            <div class="{{CurrentActiveObject.IsLineItemData[$index].cfdDataType!='checkbox'?'input-group':''}}">

                                                <input placeholder1="fill {{_columns}}" id="LineItem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}" type="text" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='string'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control stringType" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />

                                                <div ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='checkbox'" class="checkbox">

                                                    <input type="checkbox" id="LineItem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" bootstrap-switch>

                                                </div>

                                                <div ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='combobox'">
                                                    <div class="fg-line">


                                                     
                                                        <div class="select">
                                                            <select class="form-control" id="LineItem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}" custom-data-type="{{CurrentActiveObject.IsLineItemData[$index].cfdDataType}}" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue">

                                                                <option value="{{_optionValue}}" ng-repeat="_optionValue in CurrentActiveObject.IsLineItemData[$index].cfdComboValues track by $index">{{_optionValue}}</option>

                                                            </select>
                                                        </div>
                                                    </div>

                                                </div>
                                                <input type="date" id="LineItem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}" custom-data-type="{{CurrentActiveObject.IsLineItemData[$index].cfdDataType}}" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='date'||CurrentActiveObject.IsLineItemData[$index].cfdDataType=='datetime'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control customFieldDatePicker" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                                                <input type="number" pattern="[0-9]*" inputmode="numeric" id="LineItem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}" custom-data-type="{{CurrentActiveObject.IsLineItemData[$index].cfdDataType}}" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='number'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control numberType" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                                                <input type="number" pattern="[0-9]*" inputmode="numeric" id="LineItem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}" custom-data-type="{{CurrentActiveObject.IsLineItemData[$index].cfdDataType}}" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='currency'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control numberType" ng-change="ConvertZeroCurrency(CurrentActiveObject.InventoryDataList.uId,$index)" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />

                                                <span class="input-group-addon last" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType!='checkbox'" ng-click="ScanLineItem(1,CurrentActiveObject.IsLineItemData[$index].cfdID,$index,CurrentActiveObject.InventoryID)"><i class="fa fa-barcode"></i></span>
                                            </div>
                                            <div>

                                                <span ng-if="CurrentActiveObject.IsLineItemData[$index].cfdIsRequired==true && TrimValue(CurrentActiveObject.IsLineItemData[$index].CfValue)=='' " class="errorMessage">
                                                    {{CurrentActiveObject.IsLineItemData[$index].cfdName }} field is required.

                                                </span>


                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-xs-4 col-md-4" ng-if="parentIndex==0">
                                        <label>&nbsp;</label>
                                        <div class="pull-right">

                                            <button ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType!='checkbox'" id="lineitem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}_{{CurrentActiveObject.IsLineItemData[$index].InventoryID}}" class="btn waves-effect rotateData btnPrimary btn-icon" data-ng-click="FillLineItem($index,CurrentActiveObject.IsLineItemData[$index].cfdID,CurrentActiveObject.IsLineItemData[$index].CfValue,CurrentActiveObject.IsLineItemData[$index].InventoryID)">
                                                <i class="fa fa-thumb-tack"></i>
                                            </button>
                                        </div>
                                    </div>


                                </div>
                            </div>

                        </div>
                    </li>
                </ul>

         



                


                    <div class="row" ng-if=" CurrentOperation!='Convert' &&  CurrentOperation!='Move'">
                        <div class="col-xs-12 col-md-12">




                            <div class="form-group">
                                <label>
                                    Quantity <span>*</span>

                                    <span ng-if="CurrentOperation=='Adjust' && TrimValue(CurrentActiveObject.AdjustCalculation)!=''" class="AdjustCalculation">
                                        <span ng-if="CurrentActiveObject.ActionPerformed==1 && CurrentActiveObject.AdjustActionQuantity!=0" class="z-depth-1 AdjustIncrease">{{CurrentActiveObject.AdjustCalculation}}</span>
                                        <span ng-if="CurrentActiveObject.ActionPerformed==-1 && CurrentActiveObject.AdjustActionQuantity!=0" class="z-depth-1 AdjustDecrease">{{CurrentActiveObject.AdjustCalculation}}</span>
                                        <span ng-if="CurrentActiveObject.ActionPerformed==1 && CurrentActiveObject.AdjustActionQuantity==0" class="z-depth-1 AdjustNetzero">{{CurrentActiveObject.AdjustCalculation}}</span>

                                    </span>
                                </label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-plus" ng-click="IncreaseDecreaseValue(1,0)"></i></span>
                                    <input type="number" pattern="[0-9]*" inputmode="numeric" id="commonnumber" placeholder1="Fill Quantity" ng-change="UpdateQtyAll(CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity,$index)" ng-blur="UpdateQtyAll(CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity,$index)" ng-model="CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity" class="input-mini form-control  WholeNumbersOnly NumberType" />

                                    <span class="input-group-addon" ng-click="IncreaseDecreaseValue(2,0)"><i class="fa fa-minus"></i></span>
                                </div>


                            </div>

                            <div>


                                <span ng-if=" CurrentOperation!='Increase'&& CurrentOperation!='Adjust' &&   CurrentActiveObject.IncreaseDecreaseVMData.ActionQuantity> CurrentActiveObject.InventoryDataList.oquantity" class="errorMessage">

                                    <span ng-if=" CurrentOperation=='Increase' ||  CurrentOperation=='Decrease' || CurrentOperation=='Update'||CurrentOperation=='Apply'">Quantity can't be greater than original quantity</span>
                                    <span ng-if=" AllowNegative!=null &&  AllowNegative!='True' &&  CurrentOperation!='Increase' &&  CurrentOperation!='Decrease' && CurrentOperation!='Update'&& CurrentOperation!='Apply'"> Quantity can't be greater than original quantity</span>
                                </span>
                            </div>
                        </div>


                    </div>


                    <div class="row" ng-if=" CurrentOperation=='Increase'&&  CanCost=='True'">

                        <div class="col-xs-12 col-md-12">
                            <div class="form-group">
                                <label>Cost per unit</label>
                                <div class="fg-line">

                                    <input type="number" pattern="[0-9]*" inputmode="numeric" placeholder1="Fill Cost per unit" class="form-control NumberType FormControlType" ng-model=" CurrentActiveObject.iCostPerItem" />

                                </div>
                            </div>


                        </div>

                    </div>




                    <div ng-if="CurrentOperation=='Apply'">

                        <div class="row" ng-if=" IsMyInventoryColumns('iReqValue')==true">
                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>{{ GetColumnLabel('iReqValue')}}</label>
                                    <div class="fg-line">

                                        <input type="text" class="form-control" placeholder1="{{ GetColumnLabel('iReqValue')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag1" />

                                    </div>
                                </div>





                            </div>



                        </div>

                        <div class="row" ng-if=" IsMyInventoryColumns('iUnitTag2')==true">
                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>{{ GetColumnLabel('iUnitTag2')}}</label>
                                    <div class="fg-line">

                                        <input type="text" class="form-control" placeholder1="{{ GetColumnLabel('iUnitTag2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag2" />

                                    </div>

                                </div>



                            </div>


                        </div>
                        <div class="row" ng-if=" IsMyInventoryColumns('iUnitTag3')==true">
                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>{{ GetColumnLabel('iUnitTag3')}}</label>
                                    <div class="fg-line">

                                        <input type="text" class="form-control" placeholder1="{{ GetColumnLabel('iUnitTag3')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitTag3" />

                                    </div>
                                </div>


                            </div>



                        </div>

                        <div class="row" ng-if=" IsMyInventoryColumns('iUniqueDate')==true">
                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>{{ GetColumnLabel('iUniqueDate')}}</label>
                                    <div class="fg-line">
                                        <input type="date" class="form-control unitDatePicker" placeholder1="{{ GetColumnLabel('iUniqueDate')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UniqueDate" />

                                    </div>
                                </div>


                            </div>



                        </div>
                        <div class="row" ng-if=" IsMyInventoryColumns('iUnitDate2')==true">
                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>{{ GetColumnLabel('iUnitDate2')}}</label>
                                    <div class="fg-line">
                                        <input type="date" class="form-control unitDatePicker" placeholder1="{{ GetColumnLabel('iUnitDate2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitDate2" />

                                    </div>
                                </div>


                            </div>



                        </div>
                        <div class="row" ng-if=" IsMyInventoryColumns('iUnitNumber1')==true">
                            <div class="col-xs-12 col-md-12">

                                <div class="form-group">
                                    <label>{{ GetColumnLabel('iUnitNumber1')}}</label>
                                    <div class="fg-line">

                                        <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control NumberType" placeholder1="{{ GetColumnLabel('iUnitNumber1')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitNumber1" />

                                    </div>
                                </div>



                            </div>



                        </div>
                        <div class="row" ng-if=" IsMyInventoryColumns('iUnitNumber2')==true">
                            <div class="col-xs-12 col-md-12">

                                <div class="form-group">
                                    <label>{{ GetColumnLabel('iUnitNumber2')}}</label>
                                    <div class="fg-line">

                                        <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control NumberType" placeholder1="{{ GetColumnLabel('iUnitNumber2')}}" ng-model=" CurrentActiveObject.ApplyTransactionData.UnitNumber2" />

                                    </div>
                                </div>


                            </div>


                        </div>
                    </div>



                    <div ng-if="CurrentOperation=='Convert'">
                        <div class="row">
                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>Quantity <span>*</span></label>

                                    <div class="input-group">
                                        <div class="fg-line" ng-class=" CurrentActiveObject.ConvertTransactionData.ActionFromQuantity=='' ||  CurrentActiveObject.ConvertTransactionData.ActionFromQuantity> CurrentActiveObject.InventoryDataList.oquantity ?'':''">

                                            <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control WholeNumbersOnly NumberType" placeholder1="This value is required" ng-model=" CurrentActiveObject.ConvertTransactionData.ActionFromQuantity" />

                                        </div>

                                        <span class="input-group-addon last text" style=" max-width: 100px; white-space: nowrap;"> {{ CurrentActiveObject.InventoryDataList.uomUOM}}</span>
                                    </div>
                                </div>
                                <div ng-if=" CurrentActiveObject.ConvertTransactionData.ActionFromQuantity> CurrentActiveObject.InventoryDataList.oquantity" class="errorMessage">
                                    <span ng-if=" AllowNegative!=null &&  AllowNegative!='True'"> Quantity can't be greater than original quantity</span>

                                </div>

                            </div>


                        </div>

                        <br />

                        <div class="row">
                            <div class="col-xs-12 col-md-12">

                                <div class="form-group">
                                    <label>New Quantity <span>*</span></label>
                                    <div class="fg-line" ng-class=" CurrentActiveObject.ConvertTransactionData.ActionToQuantity==''?'':''">

                                        <input type="number" pattern="[0-9]*" inputmode="numeric" class="form-control WholeNumbersOnly NumberType" placeholder1="This value is required" ng-model=" CurrentActiveObject.ConvertTransactionData.ActionToQuantity" />

                                    </div>
                                </div>


                                <div>

                                </div>
                            </div>



                        </div>

                        <br />

                        <div class="row">
                            <div class="col-xs-12 col-md-12">

                                <div class="form-group">
                                    <label>New Unit of Measure <span>*</span></label>
                                    <div class="fg-line" ng-class=" CurrentActiveObject.ConvertTransactionData.ToUOMID==''?'':''">
                                        <div class="select">
                                            <select class="form-control" ng-model=" CurrentActiveObject.ConvertTransactionData.ToUOMID">
                                                <option value="">None</option>
                                                <option ng-repeat="_optionValue in  UOMList" value="{{_optionValue.UnitOfMeasureID}}">{{_optionValue.UnitOfMeasureName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>



                            </div>

                        </div>


                    </div>

                    <div ng-if="CurrentOperation=='Update'">
                        <div class="row">
                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>To Status</label>
                                    <div class="fg-line">
                                        <div class="select">
                                            <select class="form-control" ng-model="CurrentActiveObject.UpdateTransactionData.StatusToUpdate">
                                                <option value="">None</option>
                                                <option ng-repeat="_optionValue in StatusList" ng-selected="CheckStatusValues(CurrentActiveObject.UpdateTransactionData.StatusToUpdate,_optionValue.StatusValue)?true:false" value="{{_optionValue.StatusValue}}">{{_optionValue.StatusValue}}</option>
                                            </select>
                                        </div>
                                    </div>

                                </div>


                            </div>


                        </div>
                    </div>

                    <div class="row" ng-if="isLineItemColumnNames.length>0 && IsActiveTransactionField(CurrentActiveObject.IsLineItemData[$index].cfdID)" data-ng-repeat="_columns in isLineItemColumnNames">
                        <span ng-if="CheckOnAdjust(CurrentActiveObject.IsLineItemData[$index].cfdID,CurrentActiveObject.ActionPerformed)">

                            <div class="col-xs-12 col-md-12">
                                <div class="form-group">
                                    <label>{{_columns}} <span ng-if="CurrentActiveObject.IsLineItemData[$index].cfdIsRequired==true" class="errorMessage">*</span></label>
                                    <div class="{{CurrentActiveObject.IsLineItemData[$index].cfdDataType!='checkbox'?'input-group':''}}">

                                        <input placeholder1="fill {{_columns}}" id="LineItem_{{CurrentActiveObject.IsLineItemData[$index].cfdID}}" type="text" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='string'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control stringType" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />

                                        <div ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='checkbox'" class="checkbox">

                                            <input type="checkbox" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" bootstrap-switch>

                                        </div>

                                        <div ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='combobox'">
                                            <div class="fg-line">

                                                <div class="select">
                                                    <select class="form-control" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue">

                                                        <option value="{{_optionValue}}" ng-repeat="_optionValue in CurrentActiveObject.IsLineItemData[$index].cfdComboValues track by $index">{{_optionValue}}</option>

                                                    </select>
                                                </div>
                                            </div>

                                        </div>
                                        <input type="date" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='date'||CurrentActiveObject.IsLineItemData[$index].cfdDataType=='datetime'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control customFieldDatePicker" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                                        <input type="number" pattern="[0-9]*" inputmode="numeric" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='number'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control numberType" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                                        <input type="number" pattern="[0-9]*" inputmode="numeric" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='currency'" ng-model="CurrentActiveObject.IsLineItemData[$index].CfValue" class="form-control numberType" ng-change="ConvertZeroCurrency(CurrentActiveObject.InventoryDataList.uId,$index)" value="{{CurrentActiveObject.IsLineItemData[$index].CfValue}}" />
                                        <span class="input-group-addon last" ng-click="ScanLineItem(1,CurrentActiveObject.IsLineItemData[$index].cfdID,$index,CurrentActiveObject.InventoryID)" ng-if="CurrentActiveObject.IsLineItemData[$index].cfdDataType=='string'"><i class="fa fa-barcode"></i></span>
                                    </div>
                                    <div>

                                        <span ng-if="CurrentActiveObject.IsLineItemData[$index].cfdIsRequired==true && TrimValue(CurrentActiveObject.IsLineItemData[$index].CfValue)=='' " class="errorMessage">
                                            {{CurrentActiveObject.IsLineItemData[$index].cfdName }} field is required.

                                        </span>


                                    </div>
                                </div>
                            </div>


                        </span>


                    </div>
                </div>



            </div>

            <div class="form-inputs customActivityData" data-type="Activity" data-index="{{GetProperIndex(1)}}">

             
                <h4>Activity data</h4>


                <div ng-if="CurrentOperation!='Adjust'">


                    <div class="form-group">
                        <label>Activity Date <span>*</span> </label>
                        <div class="input-group">
                            <input type="date" class="form-control" id="itUpdateDate" />

                        </div>

                    </div>


                    <div class="form-group" ng-repeat="obj in CustomActivityDataList" ng-if="CustomActivityDataList.length > 0 && obj.isLineItem!='True' && IsActiveTransactionField(obj.cfdID)">
                        <label>{{obj.cfdName}} <span ng-if="obj.cfdIsRequired">*</span></label>
                        <div ng-if="obj.cfdDataType=='string'" class="input-group">
                            <input id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="text" class="form-control stringType" value="{{obj.CfValue}}" />
                            <span class="input-group-addon last" ng-click="ScanLineItem(2,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                        </div>


                        <div ng-if="obj.cfdDataType=='checkbox'" class="checkbox">

                            <input type="checkbox" id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" bootstrap-switch>

                        </div>

                        <div class="input-group" ng-if="obj.cfdDataType=='combobox'">


                            <div class="select">
                                <select id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" class="form-control">

                                    <option value="{{_optionValue}}" ng-repeat="_optionValue in obj.cfdComboValues track by $index">{{_optionValue}}</option>

                                </select>
                            </div>
                            <span class="input-group-addon last" ng-click="ScanLineItem(2,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                        </div>


                        <div ng-if="obj.cfdDataType=='date'||obj.cfdDataType=='datetime'" class="input-group">
                            
                            <input id="CustomActivity_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="date" class="form-control customFieldDatePicker FormDateType" />
                            <span class="input-group-addon last" ng-click="ScanLineItem(2,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                        </div>

                        <div ng-if="obj.cfdDataType=='number'" class="input-group">
                            <input id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" custom-data-type="{{obj.cfdDataType}}" type="number" pattern="[0-9]*" inputmode="numeric" class="form-control FormControlType" value="{{obj.CfValue}}" />
                            <span class="input-group-addon last" ng-click="ScanLineItem(2,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                        </div>

                        <div ng-if="obj.cfdDataType=='currency'" class="input-group">
                            <input id="CustomActivity_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" custom-data-type="{{obj.cfdDataType}}" type="number" pattern="[0-9]*" inputmode="numeric" class="form-control FormControlType" ng-change="" value="{{obj.CfValue}}" />
                            <span class="input-group-addon last" ng-click="ScanLineItem(2,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                        </div>

                    </div>
                </div>
                <div ng-if="CurrentOperation=='Adjust'">
                    <div>
                        <h3 style="color: #177B3D">Activity details for increase </h3>


                        <div class="form-group">
                            <label>Activity Date <span>*</span> </label>
                            <div class="input-group">
                                <input type="date" class="form-control" id="itUpdateDate" />

                            </div>

                        </div>


                        <div class="form-group" ng-repeat="obj in CustomActivityDataList" ng-if="CustomActivityDataList.length > 0 && obj.isLineItem!='True' && IsActiveTransactionField(obj.cfdID)&& CheckOnAdjust(obj.cfdID,1)">
                            <label>{{obj.cfdName}} <span ng-if="obj.cfdIsRequired">*</span></label>
                            <div ng-if="obj.cfdDataType=='string'" class="input-group">
                                <input id="CustomActivityIncrease_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" custom-data-type="{{obj.cfdDataType}}" type="text" class="form-control stringType"  />
                                <span class="input-group-addon last" ng-click="ScanLineItem(3,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>


                            <div ng-if="obj.cfdDataType=='checkbox'" class="checkbox">

                                <input type="checkbox" id="CustomActivityIncrease_{{obj.cfdID}}"  cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" bootstrap-switch>

                            </div>

                            <div class="input-group" ng-if="obj.cfdDataType=='combobox'">


                                <div class="select">
                                    <select id="CustomActivityIncrease_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" class="form-control">

                                        <option value="{{_optionValue}}" ng-repeat="_optionValue in obj.cfdComboValues track by $index">{{_optionValue}}</option>

                                    </select>
                                </div>
                                <span class="input-group-addon last" ng-click="ScanLineItem(3,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>


                            <div ng-if="obj.cfdDataType=='date'||obj.cfdDataType=='datetime'" class="input-group">
                                <input id="CustomActivityIncrease_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="date" class="form-control customFieldDatePicker FormDateType" />
                                <span class="input-group-addon last" ng-click="ScanLineItem(3,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>

                            <div ng-if="obj.cfdDataType=='number'" class="input-group">
                                <input id="CustomActivityIncrease_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="number" pattern="[0-9]*" inputmode="numeric" class="form-control FormControlType" value="{{obj.CfValue}}" />
                                <span class="input-group-addon last" ng-click="ScanLineItem(3,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>

                            <div ng-if="obj.cfdDataType=='currency'" class="input-group">
                                <input id="CustomActivityIncrease_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="text" class="form-control FormControlType" ng-change="" value="{{obj.CfValue}}" />
                                <span class="input-group-addon last" ng-click="ScanLineItem(3,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>

                        </div>
                    </div>

                    <div id="transactionForm2">
                        <h3 style="color: #AF2525">Activity details for decrease </h3>
                        <div class="form-group">
                            <label>Activity Date <span>*</span> </label>
                            <div class="input-group">
                                <input type="date" class="form-control" id="itUpdateDate" />

                            </div>

                        </div>


                        <div class="form-group" ng-repeat="obj in CustomActivityDataList" ng-if="CustomActivityDataList.length > 0 && obj.isLineItem!='True' && IsActiveTransactionField(obj.cfdID) && CheckOnAdjust(obj.cfdID,-1)">
                            <label>{{obj.cfdName}} <span ng-if="obj.cfdIsRequired">*</span></label>
                            <div ng-if="obj.cfdDataType=='string'" class="input-group">
                                <input id="CustomActivityDecrease_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="text" class="form-control stringType" value="{{obj.CfValue}}" />
                                <span class="input-group-addon last" ng-click="ScanLineItem(4,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>


                            <div ng-if="obj.cfdDataType=='checkbox'" class="checkbox">

                                <input type="checkbox" id="CustomActivityDecrease_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" bootstrap-switch>
                               
                            </div>

                            <div class="input-group" ng-if="obj.cfdDataType=='combobox'">


                                <div class="select">
                                    <select id="CustomActivityDecrease_{{obj.cfdID}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" class="form-control">

                                        <option value="{{_optionValue}}" ng-repeat="_optionValue in obj.cfdComboValues track by $index">{{_optionValue}}</option>

                                    </select>
                                </div>
                                <span class="input-group-addon last" ng-click="ScanLineItem(4,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>


                            <div ng-if="obj.cfdDataType=='date'||obj.cfdDataType=='datetime'" class="input-group">
                                <input id="CustomActivityDecrease_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="date" class="form-control customFieldDatePicker FormDateType" />
                                <span class="input-group-addon last" ng-click="ScanLineItem(4,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>

                            <div ng-if="obj.cfdDataType=='number'" class="input-group">
                                <input id="CustomActivityDecrease_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="number" pattern="[0-9]*" inputmode="numeric" class="form-control FormControlType" value="{{obj.CfValue}}" />
                                <span class="input-group-addon last" ng-click="ScanLineItem(4,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>

                            <div ng-if="obj.cfdDataType=='currency'" class="input-group">
                                <input id="CustomActivityDecrease_{{obj.cfdID}}" value="{{obj.cfdDefaultValue}}" cfd-id="{{obj.cfdID}}" custom-data-type="{{obj.cfdDataType}}" type="text" class="form-control FormControlType" ng-change="" value="{{obj.CfValue}}" />
                                <span class="input-group-addon last" ng-click="ScanLineItem(4,obj.cfdID,$index,0)"><i class="fa fa-barcode"></i></span>
                            </div>

                        </div>
                    </div>
                </div>


            </div>

            <div>
                <br />
            </div>

        </div>

        

    </div>

    <div>
        <br /><br />
    </div>


    <div ng-if="IsSingleMode==false">


        <table class="bottombutton" style="width:100%; position:fixed; bottom:0">
            <tr>
                <td style="width:50%;">
                    <div ng-if="IsProcessing==false" ng-click="SubmitAllActivities()">
                        <a style="width:100%; margin-bottom:0px; border-radius:0px;" class="btn waves-effect btn-large btn-success">
                            <i class="fa fa-check"></i> 
                        Process</a>
                    </div>

                    <div ng-if="IsProcessing==true" class="linkdisabled" ng-click="SubmitAllActivities()">
                        <a style="width: 100%; margin-bottom: 0px; border-radius: 0px;" class="btn btn-large waves-effect btn-success"><i style="color:#fff;" class="fa fa-check fa-spin"></i>Process</a>
                    </div>
                </td>
                <td style="width:50%;">
                    <a style="width: 100%; margin-bottom: 0px; border-radius: 0px;" class="btn btn-large waves-effect btn-default" ng-click="LeavePage()"><i style="color:#000;" class="fa fa-times"></i> &nbsp;Cancel</a>
                </td>
            </tr>
        </table>






    </div>

    

    <div id="locationlistmodal" class="modal animated bounceIn">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span> <i class="fa fa-times-circle"></i> </span></button>
            <h4>select Location <span style="font-size:11px;" ng-if="LocationSearchList.length > 0">{{LocationSearchList.length}} Location(s) found</span></h4>
            <div class="form-group">

                <div class="input-group">
                    <input style="height:47px;" type="text" id="searchlocation" placeholder1="Type Keyword to find locations" ng-change="OnChangeLocationNameFunction()" class="form-control" ng-model="SearchLocationValue" required="" autofocus />
                    <span class="input-group-addon last" ng-click="ScanLocationsearch()">
                        <i class="fa fa-barcode"></i>
                    </span>
                </div>
            </div>
        </div>

        <div class="modal-body">

            <div ng-if="LocationSearching==true">
                <i class="fa fa-spin fa-spinner"></i> searching please wait..
            </div>

            <div ng-if="isnolocationmsg == true" class="noitem">
                <div style="text-align: center; border: 1px solid #eeeeee;">
                    <h4 style="font-size:20px;"><i class="fa fa-frown-o"></i> We're sorry !</h4>
                    <h4 style="font-size:15px;">We can't find the location you're looking for</h4>

                </div>
            </div>

            <ul class="searchresultlist" ng-if="LocationSearching==false">
                <li ng-click="LocationSetItemData(obj)" ng-repeat="obj in LocationSearchList">
                    <a>
                        <span ng-bind-html="HighLightTerm(SearchLocationValue,obj.LocationName)"></span>


                        <i class="fa fa-angle-right"></i>
                    </a>
                </li>
            </ul>

        </div>
    </div>


    <div id="selecteditemlistmodal" class="modal animated bounceIn">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span> <i class="fa fa-times-circle"></i> </span></button>
            <h4>Selected Item list - <span>{{CurrentCart.length}}</span></h4>
            <div style="margin-bottom:5px;" class="form-group">
                <div class="input-group">
                    <input style="height:40px; margin-top:10px; margin-bottom:10px;" placeholder1="Type to search" class="form-control" type="text" ng-model="Selecteditemlist">
                </div>
            </div>
        </div>

        <div class="modal-body">
            <div class="cartlist" id="CartData_{{CurrentActiveObject.InventoryID}}" ng-repeat="CurrentActiveObject in CurrentCart | filter : Selecteditemlist">
                <div class="row">
                    <div class="col-xs-3">
                        <i style="top:11px; left:27px;" ng-click="DeleteItem(CurrentActiveObject)" class="itemcheckicon fa fa-check"></i>
                        <img ng-click="DeleteItem(CurrentActiveObject)" ng-if="CurrentActiveObject.InventoryDataList.ImageThumbPath==''" style="height:60px; width:60px; border:2px solid #ccc; border-radius:100%;" src="img/default.png" />
                        <img ng-click="DeleteItem(CurrentActiveObject)" ng-if="CurrentActiveObject.InventoryDataList.ImageThumbPath!=''" style="height: 60px; width:60px; border: 2px solid #ccc; border-radius: 100%;" src="{{CurrentActiveObject.InventoryDataList.ImageThumbPath}}" alt="" />
                    </div>
                    <div class="col-xs-9">
                        <div><span>{{CurrentActiveObject.InventoryDataList.oquantity}}  </span> <span> {{CurrentActiveObject.InventoryDataList.uomUOM }} </span>  of <span> {{CurrentActiveObject.InventoryDataList.pPart }}</span>  </div>
                        <div><span> {{CurrentActiveObject.InventoryDataList.pDescription }}  </span> </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




</div>

<div style="overflow:hidden; margin-top:50px;" id="myModal" class="modal animated bounceIn">
    <div style="background:#fff;" class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fa fa-times-circle"></i></span></button>
        <h5 class="modal-title" id="myModalLabel">What do you want to do about your cart? </h5>
    </div>
    <div style="background:#fff; padding-top:2px;" class="modal-body">

        <div ng-click="CartFunction(1)" style="margin:0px; padding-left:0px;" class="card">
            <div class="c-widget">
                <div id="keepCart" class="c-widget-figure primary-color">
                    <i class="fa fa-shopping-cart"></i>
                </div>
                <div class="c-widget-body">
                    <p class="m-0">Keep cart</p>
                    <p class="small m-0">Keep it so I can complete it later</p>
                </div>
            </div>
        </div>

        <div ng-click="CartFunction(2)" style="margin: 0px; padding-left: 0px;" class="card">
            <div class="c-widget">
                <div class="c-widget-figure accent-color">
                    <i class="fa fa-times"></i>
                </div>
                <div class="c-widget-body">
                    <p class="m-0">Clear cart</p>
                    <p class="small m-0">Clear the cart of all items; I don't need it.</p>
                </div>
            </div>
        </div>

        <div data-dismiss="modal" style="margin: 0px; padding-left: 0px;" class="card">
            <div class="c-widget">
                <div class="c-widget-figure gray-color">
                    <i class="fa fa-arrow-left"></i>
                </div>
                <div class="c-widget-body">
                    <p class="m-0">Return to cart</p>
                    <p class="small m-0">Return to Cart so I can complete it now.</p>
                </div>
            </div>
        </div>

    </div>

</div>



<div id="mycartModal" class="modal bottommenu fade">

    <div class="modal-body">
        <ul class="animated slideInUp transactionbody selectAction">


            <li class="bottomlink" data-dismiss="modal" data-ng-show="CanIncrease=='True'" data-ng-click=" Operate(1)"><span>Increase</span> <a style="background-color: #177B3D;" class="btn waves-effect-success btn decrease"> <i class="fa fa-plus"></i> </a></li>
            <li class="bottomlink" data-dismiss="modal" data-ng-show="CanDecrease=='True'" data-ng-click=" Operate(-1)"><span>Decrease</span> <a style="background-color: #AF2525;" class="btn waves-effect-danger btn decrease"> <i class="fa fa-minus-circle"></i> </a></li>
            <li class="bottomlink" data-dismiss="modal" data-ng-show="CanIncrease=='True' &&  CanDecrease=='True'" data-ng-click=" Operate(12)"><span>Adjust</span> <a style="background-color: #f8c217;" class="btn waves-effect-danger btn adjust"> <i class="fa fa-arrows-v"></i> </a></li>
            <li class="bottomlink" data-dismiss="modal" data-ng-show="CanMove=='True'" data-ng-click=" Operate(0)"><span>Move</span><a style="background-color: #C65E28;" class="btn waves-effect-warning btn decrease"> <i class="fa fa-exchange"></i>  </a></li>
            <li class="bottomlink" data-dismiss="modal" data-ng-show="CanApply=='True'" data-ng-click=" Operate(4)"><span>Tag</span><a style="background-color: #0D190F" class="btn waves-effect-info btn decrease"> <i class="fa fa-tag"></i>  </a></li>
            <li class="bottomlink" data-dismiss="modal" data-ng-show="CanStatus=='True'" data-ng-click=" Operate(3)"><span>Update</span><a style=" background-color: #583782" class="btn waves-effect-info btn decrease"> <i class="fa fa-pencil"></i>  </a></li>
            <li class="bottomlink" data-dismiss="modal" data-ng-show=" CanConvert=='True'" data-ng-click=" Operate(2)"><span>Convert</span><a style="background-color: #CE59A1" class="btn waves-effect-info btn decrease"> <i class="fa fa-refresh"></i>  </a></li>
            <li class="bottomlink" data-dismiss="modal" data-ng-click=" changeMode()"><span>Switch mode</span><a style="background-color: #616161" class="btn waves-effect-info btn decrease"> <i class="fa fa-undo"></i>  </a></li>

        </ul>
    </div>
</div>


<a ng-click="showallmenu()" class="btn waves-effect {{CurrentHeaderClass}} btn-sm changebtn"><i class="fa fa-ellipsis-v"></i></a>

<style>
    #activitymneu
    {
      overflow:hidden;
    }

        #activitymneu ul {
            background: #fff;
            position: fixed;
            bottom: 0;
            width: 100%;
            padding-left: 12px;
            -webkit-box-shadow: 0px 0px 5px 0px rgba(204,204,204,1);
            -moz-box-shadow: 0px 0px 5px 0px rgba(204,204,204,1);
            box-shadow: 0px 0px 5px 0px rgba(204,204,204,1);
            margin-bottom: 0px;
            padding-bottom:5px;
        }

        #activitymneu ul li {

          list-style-type:none;
        }

        #activitymneu ul li a {
         color:#000;
       padding-top:5px;
       padding-bottom:5px;
       display:block;   
       font-family:Verdana;
       text-decoration:none;
       font-size:16px;
        }

            #activitymneu ul li a i {
             min-width:30px;
            }

    
</style>
















<script>

    $(init);

    function init() {
        $('.changebtn').draggable();
        $('.changebtn').draggable();
    }



    function cartitems() {

        $(".cartitems").slideToggle();

       
        setTimeout(function () {
            if ($(".cartitems").css("display") == "none") {
              
                $(".bottomarrow").hide();
                $(".rightarrow").show()

            }
            else {
                $(".bottomarrow").show();
                $(".rightarrow").hide()
            }
        }, 500);
      


    }





</script>





